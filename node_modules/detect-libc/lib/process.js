// Copyright 2017 Lovell Fuller and others.
// SPDX-License-Identifier: Apache-2.0

'use strict';

const isLinux = () => process.platform === 'linux';

let report = null;
const getReport = () => {
  if (!report) {
    /* istanbul ignore next */
<<<<<<< HEAD
    if (isLinux() && process.report) {
      const orig = process.report.excludeNetwork;
      process.report.excludeNetwork = true;
      report = process.report.getReport();
      process.report.excludeNetwork = orig;
    } else {
      report = {};
    }
=======
    report = isLinux() && process.report
      ? process.report.getReport()
      : {};
>>>>>>> 0f17b53c10d621f4acb81e4e2648f4f189612311
  }
  return report;
};

module.exports = { isLinux, getReport };
